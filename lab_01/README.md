ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ АВТОНОМНОЕ  
ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ  
«НАЦИОНАЛЬНЫЙ ИССЛЕДОВАТЕЛЬСКИЙ УНИВЕРСИТЕТ  
«ВЫСШАЯ ШКОЛА ЭКОНОМИКИ»

**Московский институт электроники и математики**

**им. А.Н.Тихонова НИУ ВШЭ**

**Департамент компьютерной инженерии**

Курс «Высокоуровневое и имитационное моделирование цифровых систем»

**ОТЧЕТ  
ПО ЛАБОРАТОРНОЙ РАБОТЕ №1**

Тема работы: «Проектирование встраиваемых систем с использованием
Raspberry Pi»

**Выполнили:**

Студенты группы БИВ174

Бригада №5

Подчезерцев Алексей Евгеньевич

Солодянкин Андрей Александрович

**Принял:**

асс. МИЭМ НИУ ВШЭ

Американов А.А.

Москва   г.

Задание
=======

1.  Собрать электрическую схему подключения необходимых устройств.

    Подключить 1 сервомотор, 1 пьезоизлучатель звука и 1 светодиод.
    Реализовать получение изображения с камеры и распознавание на нем
    круглых красных объектов. При обнаружении на изображении такого
    объекта, включать светодиод, при отсутствии – выключать.
    Поворачивать камеру таким образом, чтобы распознанный объект
    находился в центре изображения.

2.  Разработать код управления подключенными устройствами;

3.  Реализовать нейронную сети MobileNet с использованием Raspberry Pi;

4.  Загрузить все материалы в репозиторий github.

Выполнение работы
=================

Сборка устройства
-----------------

Схема подключение светодиода изображена на
рис. <a href="#fig:led" data-reference-type="ref" data-reference="fig:led">1</a>.
Светодиод нельзя напрямую подключать к выводам GPIO, поэтому
последовательно с ним ставится резистор.

<figure>
<embed src="schemas/led_bb.pdf" id="fig:led" /><figcaption aria-hidden="true">Схема подключения светодиода</figcaption>
</figure>

Схема подключение сервомотора изображена на
рис. <a href="#fig:servo" data-reference-type="ref" data-reference="fig:servo">2</a>.
Для подключения данного устройства необходимо добавить дополнительное
питание.

<figure>
<embed src="schemas/servo_bb.pdf" id="fig:servo" /><figcaption aria-hidden="true">Схема подключения сервомотора</figcaption>
</figure>

Камера подключается посредством USB.

Код управления поиска красных круглых объектов
----------------------------------------------

Для работы с устройством был написан промежуточный модуль, который
облегчает взаимодействие с железом и выполняет однотипные действия по
настройке платы и инициализации пинов.

Далее представлен код работы детектора красных кругов. Приложение в
цикле получает изображение, подготавливает его и ищет целевые объекты.
При нахождении подсвечивает их зеленым кругом. Кроме того, на светодиод
отправляется команда в зависимости от наличия цели. Если самая крупная
цель находится не по центру изображения, отправляется команда на поворот
камеры.

Реализация нейронной сети MobileNet
-----------------------------------

Далее представлен код, реализующий поиск объектов с помощью MobileNet.
При детектировании такого объекта выделяется область данного объекта и
добавляется подпись с вероятностью принадлежности к определенному
классу.

Исходные коды
=============

Исходные коды доступны на
<https://github.com/AsciiShell/hse_hlimds_labs>.

Pull request работы
<https://github.com/AsciiShell/hse_hlimds_labs/pull/1>.

Релизы <https://github.com/AsciiShell/hse_hlimds_labs/releases>.

Выводы по работе
================

В ходе работы получен опыт работы с Raspberry Pi. Был получен опыт
написания кода для управления периферийными устройствами. Был получен
опыт работы с библиотекой opencv. Изучены и созданы программы для
обработки видеоряда с помощью данной библиотеки. Была написана программа
для детектирования красных круглых объектов на видео. Был создан модуль
для управления периферийными устройствами. Была применена модель
MobileNet для детектирования объектов на видео. Итоговый проект был
протестирован на плате.
